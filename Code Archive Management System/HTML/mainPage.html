<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../Environment/bootstrap.min.css">
  <style type="text/css">
    body {
      background-color: #F5F5F5;
    }
  </style>
  <title>log in</title>
</head>

<body>
  <div class="container">
    <div class="row" style="margin-top: 30%;">
      <div class="col-md-4"></div>
      <div class="col-md-4">
        <h2 style="margin-bottom:30px;">Please sign in</h2>
        <form>
          <div class="form-group">
            <!-- <label for="UserID">Email address</label> -->
            <input type="text" class="form-control" id="user_id" placeholder="User Name">
          </div>
          <div class="form-group">
            <!-- <label for="UserPWD">Password</label> -->
            <input type="password" class="form-control" id="user_pwd" placeholder="Password">
          </div>
          <div class="form-group">
            <!-- <label for="chose_Identity">Identity</label> -->
            <select id="chose_identity" class="form-control">
              <option disabled selected>Identity</option>
              <option value="4">Warehouse Manager</option>
              <option value="1">Mission Manager</option>
              <option value="2">Process Operator</option>
              <option value="3">Quality Inspector</option>
              <option value="0">System Manager</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary form-control" id="log_in">log in</button>
        </form>
      </div>
      <div class="col-md-4"></div>
    </div>
  </div>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="../Environment/jquery-3.4.1.min.js"></script>
  <script src="../Environment/popper.min.js"></script>
  <script src="../Environment/bootstrap.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $("#log_in").click(function () {
        $.ajax({
          type: "POST",
          url: "test.php",
          dataType: "json",
          data: {
            UserID: $("#user_id").val(),
            UPassword: $("#user_pwd").val(),
            UAuthority: $("#chose_identity").val()
          },
          /*假设后台返回的reData中包含status（0为出错，1为成功）和message两个键值对内容*/
          success: function (reData) {
            if (reData.status === 1) {
              /*打开对应的新页面，url在message中*/
            }
            else {
              alert("log failed :" + reData.message);
            }
          },
          error: function () {
            alert("error!");
          }
        });
      });
    });
  </script>
</body>

</html>